{% extends 'main/base.html' %}

{% block content %}

<h2>Settings: {{ request.user.first_name }}</h2>

<form novalidate action="settings" method="post" enctype="multipart/form-data">
    {% csrf_token %}
    {% for error in form.non_field_errors %}
    <div>
        <label class="my-2" style="color: red;">{{ error }}</label>
    </div>
    {% endfor %}
    {% for field in form %}
    <div class="row input-group mt-3 pt-2">
        <div class="col-2 text-left" style="font-size: larger;">
            {{ field.label_tag }}
        </div>
        <div class="col-5">
            {% if field.html_name == "avatar" %}
            <img class="black_rounded_border mb-2" style="height: 8rem; display: block;"
                src="{{ request.user.profile.avatar.url }}">
            {% endif %}
            {{ field }}
        </div>
    </div>
    {% for error in field.errors %}
    <div>
        <label class="my-2" style="color: red;">{{ error }}</label>
    </div>
    {% endfor %}
    {% endfor %}

    <div class="row input-group mb-3 mt-3 pt-2">
        <div class="col-2"></div>
        <div class="col-5">
            <input class="btn btn-primary" type="submit" value="Save!">
        </div>
    </div>

</form>

{% endblock %}